<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MicroPython t-string</title>
    <link rel="icon" type="image/x-icon" href="static/favicon.ico">
    <script type="module">
        import './static/polyscript/index.js';

        const mpy = document.querySelector('script[type="mpy"]');
        mpy.setAttribute('version', new URL('./static/micropython.mjs', location));
        mpy.type = 'micropython';
    </script>
</head>
<body>
<div>Status: <span id="loader">Starting</span></div>
<div id="output" title="Example Output"></div>
<script type="mpy" config="./config.toml">
    from js import document
    from examples import main

    loader = document.getElementById("loader")
    output = document.getElementById("output")
    loader.textContent = "Loading"
    try:
        result = main()
        loader.textContent = "Loaded"
        output.innerHTML = result
    except IndexError as e:
        loader.textContent = str(e)
</script>
</body>
</html>